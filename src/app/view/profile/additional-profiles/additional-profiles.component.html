<div *ngIf="!isEditing">
  <div *ngFor="let additaionProfileContent of additaionProfilesContent">
    <section class="profile-section p-3 p-lg-5 d-flex flex-column" id="{{additaionProfileContent.title}}">
      <div class="my-auto">
        <h2 class="mb-5">{{additaionProfileContent.title}}</h2>

        <div *ngFor="let largeGroup of additaionProfileContent.largeGroups" class="profile-item d-flex flex-column flex-md-row mb-5">
          <div class="profile-content mr-auto">
            <h3 class="mb-0">{{largeGroup.largeGroupName}}</h3>
            <div *ngFor="let smallGroup of largeGroup.smallGroups">
              <div class="subheading mb-3 mt-3">{{smallGroup.smallGroupName}}</div>
              <ul class="fa-ul mb-0">
                <li *ngFor="let description of smallGroup.descriptions; index as i">
                  <i class="{{description.faIcon}}"></i>{{description.descriptionDetail}}
                <li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>
</div>
<div *ngIf="isEditing" [formGroup]="profileForm">
  <div formArrayName='additaionProfilesContent'>
    <div *ngFor="let additaionProfile of profileForm.controls.additaionProfilesContent.controls; let i=index">
      <div [formGroupName]="i">
        <section class="profile-section p-3 p-lg-5 d-flex flex-column" id="{{additaionProfile.value.title}}">
          <div class="my-auto">
            <h2 class="mb-5">{{additaionProfile.value.title}}</h2>

            <div class="container">
              <div class="row">
                <div class="col-12">Large Group Name</div>
                <div class="col-1"></div>
                <div class="col-11">Small Group Name</div>
                <div class="col-2"></div>
                <div class="col-3">Description Icon</div>
                <div class="col-6">Description</div>
              </div>
            </div>

            <div class="container" formArrayName='largeGroups'>

              <div *ngIf="additaionProfile.controls.largeGroups.controls.length === 0">
                <div class="row">
                  <div class="col-11"></div>
                  <div class="col-1" style="padding: 0;">
                    <app-modules-user-form-input-add-remove
                      [targetArrayForm]="additaionProfile.controls.largeGroups"
                      [newObject]="newLargeGroup"
                    ></app-modules-user-form-input-add-remove>
                  </div>
                </div>
              </div>

              <div *ngFor="let largeGroup of additaionProfile.controls.largeGroups.controls; let j=index">
                <div [formGroupName]="j">
                  <div class="row">
                    <input type="text" class="form-control col-11" placeholder="Large Group Name" formControlName="largeGroupName">
                    <div class="col-1" style="padding: 0;">
                      <app-modules-user-form-input-add-remove
                        [targetArrayForm]="additaionProfile.controls.largeGroups"
                        [targetArrayIndex]="j" [newObject]="newLargeGroup"
                      ></app-modules-user-form-input-add-remove>
                    </div>
                  </div>
                  <div formArrayName='smallGroups'>

                    <div *ngIf="largeGroup.controls.smallGroups.controls.length === 0">
                      <div class="row">
                        <div class="col-11"></div>
                        <div class="col-1" style="padding: 0;">
                          <app-modules-user-form-input-add-remove
                            [targetArrayForm]="largeGroup.controls.smallGroups"
                            [newObject]="newSmallGroup"
                          ></app-modules-user-form-input-add-remove>
                        </div>
                      </div>
                    </div>

                    <div *ngFor="let smallGroup of largeGroup.controls.smallGroups.controls; let k=index">
                      <div [formGroupName]="k">
                        <div class="row">
                          <div class="col-1"></div>
                          <input class="form-control col-10" placeholder="Small Group Name" formControlName="smallGroupName">
                          <div class="col-1" style="padding: 0;">
                            <app-modules-user-form-input-add-remove
                              [targetArrayForm]="largeGroup.controls.smallGroups"
                              [targetArrayIndex]="k" [newObject]="newSmallGroup"
                            ></app-modules-user-form-input-add-remove>
                          </div>
                        </div>
                        <div formArrayName='descriptions'>

                          <div *ngIf="smallGroup.controls.descriptions.controls.length === 0">
                            <div class="row">
                              <div class="col-11"></div>
                              <div class="col-1" style="padding: 0;">
                                <app-modules-user-form-input-add-remove
                                  [targetArrayForm]="smallGroup.controls.descriptions"
                                  [newObject]="newSmallGroupDescription"
                                ></app-modules-user-form-input-add-remove>
                              </div>
                            </div>
                          </div>

                          <div *ngFor="let description of smallGroup.controls.descriptions.controls; let l=index">
                            <div class="row" [formGroupName]="l">
                              <div class="col-2"></div>
                              <input type="text" class="form-control col-3" placeholder="Description Icon" formControlName="faIcon">
                              <input type="text" class="form-control col-6" placeholder="Description" formControlName="descriptionDetail">
                              <div class="col-1" style="padding: 0;">
                                <app-modules-user-form-input-add-remove
                                  [targetArrayForm]="smallGroup.controls.descriptions"
                                  [targetArrayIndex]="l" [newObject]="newSmallGroupDescription"
                                ></app-modules-user-form-input-add-remove>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>  
                </div>
              </div>
            </div>
          </div>
        </section>
      </div>
    </div>
  </div>
</div>