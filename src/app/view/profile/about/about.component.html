<section *ngIf="!isEditing" class="profile-section p-3 p-lg-5 d-flex d-column" id="about">
  <div class="my-auto container-flow">
    <h1 class="mb-0">{{aboutContent.firstName}}
      <span class="text-primary">{{aboutContent.lastName}}</span>
    </h1>

    <div class="subheading mb-5"><a href="https://www.google.co.jp/maps/place/{{aboutContent.address}}">
      {{aboutContent.address}}</a> · {{aboutContent.phoneNumber}} ·
      <a href="mailto:{{aboutContent.email}}" style="text-transform:none;">{{aboutContent.email}}</a>
    </div>

    <ul class="list-inline list-social-icons mb-0 row">
      <li *ngFor="let social of aboutContent.social" class="list-inline-item">
        <a href="{{social.socialUrl}}">
          <span class="fa-stack fa-lg">
            <i class="fa fa-circle fa-stack-2x"></i>
            <i class="{{social.faIcon}} fa-stack-1x fa-inverse"></i>
          </span>
        </a>
      </li>
    </ul>
  </div>
</section>

<section *ngIf="isEditing" class="profile-section p-3 p-lg-5 d-flex d-column" id="about" [formGroup]="profileForm">
  <div class="my-auto container" formGroupName="aboutContent">
    <div class="row">
      <div class="col-4">First Name</div>
      <div class="col-4">Last Name</div>
      <div
        class="col-4"
        [class.text-danger]="hasUserNameCollision"
      >User Name {{hasUserNameCollision?'(There is a User Name already registered.)':''}}</div>
      <input type="text" class="form-control col-4" placeholder="First Name" formControlName="firstName">
      <input type="text" class="form-control col-4" placeholder="Last Name" formControlName="lastName">
      <input
        formControlName="userName"
        (keyup)="handleKeyupUserName($event)"
        type="text"
        class="form-control col-4"
        [class.text-danger]="hasUserNameCollision"
        placeholder="User Name"
      >
    </div>

    <div class="row">
      <div class="col-12">Address</div>
      <input value="{{aboutContent.address}}" type="text" class="form-control col-12" placeholder="Address" formControlName="address">
    </div>
    <div class="row">
      <div class="col-6">Phone Number</div>
      <div class="col-6">Email</div>
      <input type="text" class="form-control col-6" placeholder="Phone Number" formControlName="phoneNumber">
      <input type="text" class="form-control col-6" placeholder="Email" formControlName="email">
    </div>
    <div class="row">
      <div class="col-4">Font AwsomeIcon</div>
      <div class="col-8">Url</div>
    </div>
    <div formArrayName='social'>
      <div *ngFor="let socialElement of profileForm.controls.aboutContent.controls.social.controls; let i=index">
        <div [formGroupName]="i" class="row">
          <input type="text" class="form-control col-4" placeholder="Icon" formControlName="faIcon">
          <input type="text" class="form-control col-7" placeholder="Url" formControlName="socialUrl">
          <div class="col-1" style="padding: 0;">
            <app-modules-user-form-input-add-remove
              [targetArrayForm]="profileForm.controls.aboutContent.controls.social"
              [targetArrayIndex]="i"
              [newObject]="newAboutSocial"
            ></app-modules-user-form-input-add-remove>
          </div>
        </div>
      </div>
      <div class="row" *ngIf="profileForm.controls.aboutContent.controls.social.length === 0">
        <div class="col-11"></div>
        <div class="col-1" style="padding: 0;">
          <app-modules-user-form-input-add-remove
            [targetArrayForm]="profileForm.controls.aboutContent.controls.social" 
            newObject]="newAboutSocial"></app-modules-user-form-input-add-remove>
        </div>
      </div>
    </div>
  </div>
</section>
